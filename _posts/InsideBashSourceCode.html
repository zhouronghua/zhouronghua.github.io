<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv=Content-Type  content="text/html; charset=utf-8" ><meta name=ProgId  content=Word.Document ><meta name=Generator  content="Microsoft Word 14" ><meta name=Originator  content="Microsoft Word 14" ><title></title><!--[if gte mso 9]><xml><w:WordDocument><w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel><w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery><w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery><w:DocumentKind>DocumentNotSpecified</w:DocumentKind><w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing><w:PunctuationKerning></w:PunctuationKerning><w:View>Web</w:View><w:Compatibility><w:DontGrowAutofit/><w:BalanceSingleByteDoubleByteWidth/><w:DoNotExpandShiftReturn/><w:UseFELayout/></w:Compatibility><w:Zoom>0</w:Zoom></w:WordDocument></xml><![endif]--><!--[if gte mso 9]><xml><w:LatentStyles DefLockedState="false"  DefUnhideWhenUsed="true"  DefSemiHidden="true"  DefQFormat="false"  DefPriority="99"  LatentStyleCount="260" >
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Normal" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="heading 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="heading 9" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index 9" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toc 9" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Normal Indent" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="footnote text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="annotation text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="header" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="footer" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="index heading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  QFormat="true"  Name="caption" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="table of figures" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="envelope address" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="envelope return" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="footnote reference" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="annotation reference" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="line number" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="page number" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="endnote reference" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="endnote text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="table of authorities" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="macro" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="toa heading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Bullet" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Number" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Bullet 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Bullet 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Bullet 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Bullet 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Number 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Number 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Number 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Number 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Title" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Closing" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Signature" ></w:LsdException>
<w:LsdException Locked="false"  Priority="1"  SemiHidden="false"  QFormat="true"  Name="Default Paragraph Font" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text Indent" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Continue" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Continue 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Continue 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Continue 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="List Continue 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Message Header" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Subtitle" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Salutation" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Date" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text First Indent" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text First Indent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Note Heading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text Indent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Body Text Indent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Block Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Hyperlink" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="FollowedHyperlink" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Strong" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Emphasis" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Document Map" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Plain Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="E-mail Signature" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  QFormat="true"  Name="Normal (Web)" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Acronym" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Address" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Cite" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Code" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Definition" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Keyboard" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Preformatted" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Sample" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Typewriter" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="HTML Variable" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  QFormat="true"  Name="Normal Table" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="annotation subject" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="No List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Simple 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Simple 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Simple 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Classic 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Classic 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Classic 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Classic 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Colorful 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Colorful 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Colorful 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Columns 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Columns 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Columns 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Columns 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Columns 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table List 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table 3D effects 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table 3D effects 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table 3D effects 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Contemporary" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Elegant" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Professional" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Subtle 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Subtle 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Web 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Web 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Web 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Balloon Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Theme" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 6" ></w:LsdException>
</w:LatentStyles></xml><![endif]--><style>
@font-face{
font-family:"Times New Roman";
}

@font-face{
font-family:"宋体";
}

@font-face{
font-family:"Wingdings";
}

@font-face{
font-family:"Cambria";
}

@font-face{
font-family:"华文仿宋";
}

@font-face{
font-family:"仿宋_GB2312";
}

@font-face{
font-family:"Arial";
}

p.MsoNormal{
mso-style-name:正文;
mso-style-parent:"";
margin:0pt;
margin-bottom:.0001pt;
mso-pagination:none;
text-align:justify;
text-justify:inter-ideograph;
font-family:'Times New Roman';
mso-fareast-font-family:宋体;
font-size:10.5000pt;
mso-font-kerning:1.0000pt;
}

h1{
mso-style-name:"标题 1";
mso-style-next:正文;
margin-top:17.0000pt;
margin-bottom:16.5000pt;
page-break-after:avoid;
mso-pagination:lines-together;
text-align:justify;
text-justify:inter-ideograph;
mso-outline-level:1;
line-height:240%;
font-family:'Times New Roman';
mso-fareast-font-family:宋体;
font-weight:bold;
font-size:22.0000pt;
mso-font-kerning:22.0000pt;
}

h2{
mso-style-name:"标题 2";
mso-style-noshow:yes;
mso-style-next:正文;
margin-top:13.0000pt;
margin-bottom:13.0000pt;
page-break-after:avoid;
mso-pagination:lines-together;
text-align:justify;
text-justify:inter-ideograph;
mso-outline-level:2;
line-height:173%;
font-family:Cambria;
mso-fareast-font-family:宋体;
mso-bidi-font-family:'Times New Roman';
font-weight:bold;
font-size:16.0000pt;
mso-font-kerning:1.0000pt;
}

span.10{
font-family:'Times New Roman';
}

span.15{
font-family:'Times New Roman';
font-size:9.0000pt;
mso-font-kerning:1.0000pt;
}

span.16{
font-family:宋体;
font-size:9.0000pt;
mso-font-kerning:1.0000pt;
}

span.17{
font-family:Cambria;
mso-fareast-font-family:宋体;
mso-bidi-font-family:'Times New Roman';
font-weight:bold;
font-size:16.0000pt;
mso-font-kerning:1.0000pt;
}

span.18{
font-family:'Times New Roman';
color:rgb(0,0,255);
text-decoration:underline;
text-underline:single;
}

span.19{
font-family:'Times New Roman';
}

span.20{
font-family:Cambria;
mso-bidi-font-family:'Times New Roman';
font-weight:bold;
font-size:16.0000pt;
mso-font-kerning:1.0000pt;
}

span.21{
font-family:'Times New Roman';
font-weight:bold;
font-size:22.0000pt;
mso-font-kerning:22.0000pt;
}

p.MsoDocumentMap{
mso-style-name:文档结构图;
margin:0pt;
margin-bottom:.0001pt;
mso-pagination:none;
text-align:justify;
text-justify:inter-ideograph;
font-family:宋体;
mso-hansi-font-family:'Times New Roman';
mso-bidi-font-family:'Times New Roman';
font-size:9.0000pt;
mso-font-kerning:1.0000pt;
}

p.p{
mso-style-name:"普通\(网站\)";
mso-style-noshow:yes;
margin-top:5.0000pt;
margin-bottom:5.0000pt;
mso-margin-top-alt:auto;
mso-margin-bottom-alt:auto;
mso-pagination:widow-orphan;
text-align:left;
font-family:宋体;
font-size:12.0000pt;
}

p.MsoTitle{
mso-style-name:标题;
mso-style-next:正文;
margin-top:12.0000pt;
margin-bottom:3.0000pt;
mso-pagination:none;
text-align:center;
mso-outline-level:1;
font-family:Cambria;
mso-fareast-font-family:宋体;
mso-bidi-font-family:'Times New Roman';
font-weight:bold;
font-size:16.0000pt;
mso-font-kerning:1.0000pt;
}

p.MsoAcetate{
mso-style-name:批注框文本;
margin:0pt;
margin-bottom:.0001pt;
mso-pagination:none;
text-align:justify;
text-justify:inter-ideograph;
font-family:'Times New Roman';
mso-fareast-font-family:宋体;
font-size:9.0000pt;
mso-font-kerning:1.0000pt;
}

p.MsoHeader{
mso-style-name:页眉;
margin:0pt;
margin-bottom:.0001pt;
border-bottom:1.0000pt solid windowtext;
mso-border-bottom-alt:0.7500pt solid windowtext;
padding:0pt 0pt 1pt 0pt ;
layout-grid-mode:char;
mso-pagination:none;
text-align:center;
font-family:'Times New Roman';
mso-fareast-font-family:宋体;
font-size:9.0000pt;
mso-font-kerning:1.0000pt;
}

p.MsoFooter{
mso-style-name:页脚;
margin:0pt;
margin-bottom:.0001pt;
layout-grid-mode:char;
mso-pagination:none;
text-align:left;
font-family:'Times New Roman';
mso-fareast-font-family:宋体;
font-size:9.0000pt;
mso-font-kerning:1.0000pt;
}

span.msoIns{
mso-style-type:export-only;
mso-style-name:"";
text-decoration:underline;
text-underline:single;
color:blue;
}

span.msoDel{
mso-style-type:export-only;
mso-style-name:"";
text-decoration:line-through;
color:red;
}

table.MsoNormalTable{
mso-style-name:普通表格;
mso-style-parent:"";
mso-style-noshow:yes;
mso-tstyle-rowband-size:0;
mso-tstyle-colband-size:0;
mso-padding-alt:0.0000pt 5.4000pt 0.0000pt 5.4000pt;
mso-para-margin:0pt;
mso-para-margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-family:'Times New Roman';
font-size:10.0000pt;
mso-ansi-language:#0400;
mso-fareast-language:#0400;
mso-bidi-language:#0400;
}
@page{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;}@page Section0{
margin-top:72.0000pt;
margin-bottom:72.0000pt;
margin-left:90.0000pt;
margin-right:90.0000pt;
size:595.3000pt 841.9000pt;
layout-grid:15.6000pt;
}
div.Section0{page:Section0;}</style></head><body style="tab-interval:21pt;text-justify-trim:punctuation;" ><!--StartFragment--><div class="Section0"  style="layout-grid:15.6000pt;" ><p class=MsoTitle ><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >B</span></b><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >ash<font face="宋体" >源码分析</font></span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></p><p class=MsoNormal  align=right  style="text-align:right;" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >周荣华</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >作者简介：</font>10<font face="宋体" >年通讯底层研发经验，熟悉</font><font face="Times New Roman" >linux/vxworks</font><font face="宋体" >等实时操作系统的内核原理和实现，在虚拟化的</font><font face="Times New Roman" >openstack</font><font face="宋体" >，</font><font face="Times New Roman" >kubernetes</font><font face="宋体" >，</font><font face="Times New Roman" >docker</font><font face="宋体" >等领域也初有涉猎。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >摘要：本文讲述当下留下的</font>linux<font face="宋体" >的</font><font face="Times New Roman" >bash</font><font face="宋体" >的源代码，通过代码分析和单步调试解析</font><font face="Times New Roman" >bash</font><font face="宋体" >的运行流程，适合喜欢研究</font><font face="Times New Roman" >linux</font><font face="宋体" >原理的高级用户。分析的源代码来自</font><font face="Times New Roman" >gnu</font><font face="宋体" >的开源项目</font></span><span><a href="https://git.savannah.gnu.org/git/bash.git" ><u><span class="18"  style="mso-spacerun:'yes';font-family:'Times New Roman';color:rgb(0,0,255);text-decoration:underline;text-underline:single;" >https://git.savannah.gnu.org/git/bash.git</span></u></a></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，例子是作者自己编写，可以随意引用。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h1><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" >1&nbsp;<font face="宋体" >引言</font></span></b><b><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" ><o:p></o:p></span></b></h1><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >B</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >ash<font face="宋体" >这个程序作为一个</font><font face="Times New Roman" >linux</font><font face="宋体" >的用户，用的实在太频繁了，但一般局限于会用就结束了，一直没机会研究</font><font face="Times New Roman" >bash</font><font face="宋体" >本身的原理。因工作需要，调试一个</font><font face="Times New Roman" >bash</font><font face="宋体" >的</font><font face="Times New Roman" >cpu</font><font face="宋体" >冲高问题，趁此机会对</font><font face="Times New Roman" >bash</font><font face="宋体" >的源码做了一些研究，希望能对大家有点帮助。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><h1><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" >2&nbsp;linux<font face="宋体" >的各种主流</font><font face="Times New Roman" >shell</font><font face="宋体" >介绍</font></span></b><b><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" ><o:p></o:p></span></b></h1><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >现在一般使用的</font>shell<font face="宋体" >有</font><font face="Times New Roman" >sh</font><font face="宋体" >，</font><font face="Times New Roman" >bash</font><font face="宋体" >和</font><font face="Times New Roman" >csh</font><font face="宋体" >这几种，我们这里主要说的是</font><font face="Times New Roman" >bash</font><font face="宋体" >，其他</font><font face="Times New Roman" >shell</font><font face="宋体" >的源代码逻辑也差不多。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h1><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" >3&nbsp;bash<font face="宋体" >使用到的主要数据结构介绍</font></span></b><b><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" ><o:p></o:p></span></b></h1><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.1&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >COMMAND</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="411"  src="InsideBashSourceCode.files/InsideBashSourceCode544.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >COMMAND</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >是所有数据结构的纲，从这里可以看出一个</font>bash<font face="宋体" >实际能执行的语句有</font><font face="Times New Roman" >14</font><font face="宋体" >种，分别位</font><font face="Times New Roman" >for</font><font face="宋体" >，</font><font face="Times New Roman" >case</font><font face="宋体" >，</font><font face="Times New Roman" >while</font><font face="宋体" >，</font><font face="Times New Roman" >fi</font><font face="宋体" >，</font><font face="Times New Roman" >connection</font><font face="宋体" >，</font><font face="Times New Roman" >simple_com</font><font face="宋体" >，</font><font face="Times New Roman" >function</font><font face="宋体" >，</font><font face="Times New Roman" >group</font><font face="宋体" >，</font><font face="Times New Roman" >select</font><font face="宋体" >，</font><font face="Times New Roman" >arith</font><font face="宋体" >，</font><font face="Times New Roman" >cond</font><font face="宋体" >，</font><font face="Times New Roman" >arith_for</font><font face="宋体" >，</font><font face="Times New Roman" >subshell</font><font face="宋体" >，</font><font face="Times New Roman" >coproc</font><font face="宋体" >，其中</font><font face="Times New Roman" >select</font><font face="宋体" >，</font><font face="Times New Roman" >arith</font><font face="宋体" >，</font><font face="Times New Roman" >cond</font><font face="宋体" >，</font><font face="Times New Roman" >arith_for</font><font face="宋体" >这</font><font face="Times New Roman" >4</font><font face="宋体" >个命令需要打开对应的编译开关之后才能执行。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >除了下面的这个</font>union<font face="宋体" >外，另外几个属性分别对应命令类型，行号和执行环境控制参数。其中控制参数有很多，每个控制参数占用一个</font><font face="Times New Roman" >bit</font><font face="宋体" >位，包括是否启动子</font><font face="Times New Roman" >shell</font><font face="宋体" >，是否忽略</font><font face="Times New Roman" >exit</font><font face="宋体" >值等。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="201"  src="InsideBashSourceCode.files/InsideBashSourceCode835.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >这些</font>flag<font face="宋体" >可以在</font><font face="Times New Roman" >bash</font><font face="宋体" >启动</font><font face="Times New Roman" >shell</font><font face="宋体" >脚本时设置，或者在</font><font face="Times New Roman" >shell</font><font face="宋体" >脚本内部调用</font><font face="Times New Roman" >set</font><font face="宋体" >指令来设置，一般用户不怎么关注，高阶用户可以看看：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="370"  src="InsideBashSourceCode.files/InsideBashSourceCode906.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.2&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >FOR_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="137"  src="InsideBashSourceCode.files/InsideBashSourceCode920.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >FOR_COM<font face="宋体" >对应的</font><font face="Times New Roman" >shell</font><font face="宋体" >语句是</font><font face="Times New Roman" >for&nbsp;name&nbsp;in&nbsp;map_list;&nbsp;do&nbsp;action;&nbsp;done</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >从结构体定义可以看出，除了和</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >COMMAND</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >相同的</font>flags<font face="宋体" >和行号外，</font><font face="Times New Roman" >for</font><font face="宋体" >语句是有一个变量名，一个列表和一个递归的</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >COMMAND</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >组成的，实际</font>for<font face="宋体" >循环执行过程中也是将列表中的每个元素拿出来赋值给变量名，并执行</font><font face="Times New Roman" >action</font><font face="宋体" >中的脚本段。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >从这里的</font>flags<font face="宋体" >，可以看出，每条命令的</font><font face="Times New Roman" >flags</font><font face="宋体" >是可以单独设置的，本条命令设置的控制参数可以不影响其他命令的控制参数。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.3&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >CASE_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="200"  src="InsideBashSourceCode.files/InsideBashSourceCode1169.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >对照下面的脚本，可以看出，先判断一个变量，变量判断晚走到复合语句</font>clauses<font face="宋体" >，注意</font><font face="Times New Roman" >clause</font><font face="宋体" >最终实现的时候是一个单向链表，链表中每个元素由一个样式的列表和一个执行体</font><font face="Times New Roman" >action</font><font face="宋体" >来组成。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="294"  height="232"  src="InsideBashSourceCode.files/InsideBashSourceCode1266.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.4&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >WHILE_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="106"  src="InsideBashSourceCode.files/InsideBashSourceCode1282.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >WHILE_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >比较简单，主体有两部分组成，判断条件和执行体。上篇文章调试过程中导致</font>CPU<font face="宋体" >冲高到</font><font face="Times New Roman" >100%</font><font face="宋体" >的例子就是用的</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >WHILE_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，不过例子中的</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >WHILE_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >的判断条件留空，相当于永远为</font>true<font face="宋体" >。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="241"  height="26"  src="InsideBashSourceCode.files/InsideBashSourceCode1389.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.5&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >IF_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="99"  src="InsideBashSourceCode.files/InsideBashSourceCode1402.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >IF_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >由</font>3<font face="宋体" >段组成，条件判断，条件为</font><font face="Times New Roman" >true</font><font face="宋体" >时的执行体和条件为</font><font face="Times New Roman" >false</font><font face="宋体" >时的执行体，其中</font><font face="Times New Roman" >false</font><font face="宋体" >情况下的执行体可以为空。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="226"  height="91"  src="InsideBashSourceCode.files/InsideBashSourceCode1468.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >从</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >IF_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >的定义看，</font>3<font face="宋体" >部分都可以是复杂的</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >COMMAND</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >结构，所以嵌套起来也可以做的非常复杂，例如可以在</font>test<font face="宋体" >部分通过执行脚本，依靠脚本的返回值来判断是应该执行</font><font face="Times New Roman" >true_case</font><font face="宋体" >还是</font><font face="Times New Roman" >false_case</font><font face="宋体" >。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.6&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >CONNECTION</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="107"  src="InsideBashSourceCode.files/InsideBashSourceCode1590.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >CONNECTION</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >由</font>4<font face="宋体" >个属性组成：</font><font face="Times New Roman" >ignore</font><font face="宋体" >字段对应其他命令结构种的</font><font face="Times New Roman" >flags</font><font face="宋体" >，但对连接命令实际上没有用</font><font face="Times New Roman" >first</font><font face="宋体" >对应第一条命令，</font><font face="Times New Roman" >second</font><font face="宋体" >对应第二条命令，</font><font face="Times New Roman" >connector</font><font face="宋体" >对应两条命令之间的连接符。难道只能两个命令一起用，不能多余两个命令一起调用？显然不是，一个</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >CONNECTION</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >对应一个连接符连接起来的两段命令，每段命令又可以是一个</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >CONNECTION</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，这样就形成了级联的效果。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >CONNECTION</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >有</font>3<font face="宋体" >种：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >AND_AND</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >对应</font>&#8220;<font face="Times New Roman" >&&</font><font face="宋体" >&#8221;，表示</font><font face="Times New Roman" >first</font><font face="宋体" >执行返回结果为</font><font face="Times New Roman" >0</font><font face="宋体" >的时候执行</font><font face="Times New Roman" >second</font><font face="宋体" >；</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >OR_OR</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >对应</font>&#8220;<font face="Times New Roman" >||</font><font face="宋体" >&#8221;，表示</font><font face="Times New Roman" >first</font><font face="宋体" >执行返回结果为非</font><font face="Times New Roman" >0</font><font face="宋体" >的时候执行</font><font face="Times New Roman" >second</font><font face="宋体" >；分号对应的</font><font face="Times New Roman" >connector</font><font face="宋体" >还是分号，表示无论</font><font face="Times New Roman" >first</font><font face="宋体" >执行结果是</font><font face="Times New Roman" >0</font><font face="宋体" >还是非</font><font face="Times New Roman" >0</font><font face="宋体" >，都执行</font><font face="Times New Roman" >second</font><font face="宋体" >。是不是有点像</font><font face="Times New Roman" >C</font><font face="宋体" >语言里面的</font><font face="Times New Roman" >&&</font><font face="宋体" >，</font><font face="Times New Roman" >||</font><font face="宋体" >和</font><font face="Times New Roman" >;</font><font face="宋体" >？</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="230"  height="66"  src="InsideBashSourceCode.files/InsideBashSourceCode1953.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >上面的三个例子别真的执行，后果很严重</font>(</span><span style="mso-spacerun:'yes';font-family:Wingdings;mso-ascii-font-family:'Times New Roman';mso-fareast-font-family:宋体;mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&#74;</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >)<font face="宋体" >。第一条表示删除</font><font face="Times New Roman" >$dir</font><font face="宋体" >对应值的目录中的所有文件；第二条表示</font><font face="Times New Roman" >$dir</font><font face="宋体" >不存在的时候删除当前目录下面的所有文件；第三条表示，如果</font><font face="Times New Roman" >$dir</font><font face="宋体" >存在就删除</font><font face="Times New Roman" >$dir</font><font face="宋体" >目录下的所有文件，如果不存在就删除当前目录下面的所有文件。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.7&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >SIMPLE_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="117"  src="InsideBashSourceCode.files/InsideBashSourceCode2096.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >SIMPLE_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >按字面意思就是简单命令，结构体由四部分组成，通用的</font>flags<font face="宋体" >，行号</font><font face="Times New Roman" >line</font><font face="宋体" >，命令队列</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >WORD_LIST</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，重定向队列</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >REDIRECT</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&nbsp;</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >WORD_LIST</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >队列比较容易理解。一堆命令的集合：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="311"  height="81"  src="InsideBashSourceCode.files/InsideBashSourceCode2203.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >其中单个命令还可以独立设置</font>flags<font face="宋体" >：</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="538"  height="86"  src="InsideBashSourceCode.files/InsideBashSourceCode2225.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >REDIRECT</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >就是重定向的意思，这里也有很多种重定向，结构体的各个属性的含义：</font>next<font face="宋体" >，组成重定向链表的指针；</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >redirector</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，重定向的源；</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >rflags</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，重定向时使用的私有</font>flags<font face="宋体" >；</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >flags</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，打开重定向目标文件时的</font>flags<font face="宋体" >；</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >instruction</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，重定向的实际功能指令，这个又有很多种，下面会详细描述；</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >redirectee</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，重定向的目的文件描述符或者文件名；</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >here_doc_eof</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，本地文件。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="144"  src="InsideBashSourceCode.files/InsideBashSourceCode2431.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >从</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >REDIRECTEE</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >的定义看，它既可以是一个文件描述符，例如</font>0<font face="宋体" >表示标准输入，</font><font face="Times New Roman" >1</font><font face="宋体" >表示标准输出，</font><font face="Times New Roman" >2</font><font face="宋体" >表示错误输出，也可以是一个文件名。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="66"  src="InsideBashSourceCode.files/InsideBashSourceCode2499.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >B</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >ash<font face="宋体" >支持二十种不同的重定向，后面会根据</font><font face="Times New Roman" >bash</font><font face="宋体" >的源代码来一一解释一下具体内容（</font><font face="Times New Roman" >bash</font><font face="宋体" >源代码的注释对重定向的含义理解也有很多帮助）：</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="139"  src="InsideBashSourceCode.files/InsideBashSourceCode2570.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >先来五种输出的重定向：普通输出，强制输出，错误和标准输出，叠加输出，错误和标准叠加输出。统一说一下几个概念，标准输出就是</font>2<font face="宋体" >级</font><font face="Times New Roman" >stdout</font><font face="宋体" >，错误输出就是</font><font face="Times New Roman" >3</font><font face="宋体" >级</font><font face="Times New Roman" >sdterr</font><font face="宋体" >，强制的意思是文件存在的情况下会被先清空，再增加，叠加输出的意思是原有内容后面再增加。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="526"  height="180"  src="InsideBashSourceCode.files/InsideBashSourceCode2699.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >再来九种输入和输出重定向：普通输入重定向，后台执行，输入和输出同时重定向，去掉空格的输入重定向，输入重定向，字符串作为输入，关闭重定向源（怎么还有这种应用场景？），复制输入，复制输出。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="263"  src="InsideBashSourceCode.files/InsideBashSourceCode2794.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >紧接着六种输入输出的重定向分别为输入剪切，输出剪切，字符指向的输入剪切和字符指向的输出剪切，字符指向的输入复制和字符指向的输出复制。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="167"  src="InsideBashSourceCode.files/InsideBashSourceCode2863.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >B</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >ash<font face="宋体" >的重定向真是博大精深！！明天继续其他</font><font face="Times New Roman" >COMMAND</font><font face="宋体" >的定义讲解。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.8&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >FUNCTION_DEF</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="107"  src="InsideBashSourceCode.files/InsideBashSourceCode2919.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >FUNCTION_DEF</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >由五部分组成，通用</font>flags<font face="宋体" >，起始行号，函数名，解析之后的函数执行体，如果函数定义在文件中，最后会有文件名。函数的定义也可以有入参，入参的提取和文件执行时类似的，都是走</font><font face="Times New Roman" >$1,$2</font><font face="宋体" >类似的形式获得的。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="167"  height="59"  src="InsideBashSourceCode.files/InsideBashSourceCode3032.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.9&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >GROUP_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:16.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="82"  src="InsideBashSourceCode.files/InsideBashSourceCode3048.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >GROUP_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >是个什么鬼？通过分析</font>group<font face="宋体" >的处理函数，发现</font><font face="Times New Roman" >group</font><font face="宋体" >原来就是多个命令组成的命令段，一般用</font><font face="Times New Roman" >{}</font><font face="宋体" >包围起来，从</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >group_command_nesting</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >变量的变化看，</font>group<font face="宋体" >是支持多层嵌套的。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="596"  src="InsideBashSourceCode.files/InsideBashSourceCode3156.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.10&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >SELECT_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:16.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="165"  src="InsideBashSourceCode.files/InsideBashSourceCode3174.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >SELECT_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >并不是每个版本的</font>bash<font face="宋体" >都存在，可以通过在</font><font face="Times New Roman" >bash</font><font face="宋体" >里面敲</font><font face="Times New Roman" >help</font><font face="宋体" >来确定其是否存在。下面这个</font><font face="Times New Roman" >bash&nbsp;4.2.46</font><font face="宋体" >的版本中是打开了</font><font face="Times New Roman" >select</font><font face="宋体" >的开关的：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="357"  src="InsideBashSourceCode.files/InsideBashSourceCode3262.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >SELECT_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >的作用是为了生成一个简单的菜单，用户通过选择菜单来让系统执行对应的命令，常见的</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >SELECT_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >是时区配置时使用的。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="197"  src="InsideBashSourceCode.files/InsideBashSourceCode3334.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >具体分析</font>/usr/bin/tzselect<font face="宋体" >源码时发现，为了做到各个</font><font face="Times New Roman" >shell</font><font face="宋体" >之间的兼容，这个脚本写的比想象中要复杂的多。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >首先要是一下版本号的记录：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="89"  src="InsideBashSourceCode.files/InsideBashSourceCode3411.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >跳过紧接着的注释，然后是版本兼容性判断，使用帮助：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="318"  src="InsideBashSourceCode.files/InsideBashSourceCode3439.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >然后很无聊的定义了一个完全不用的变量</font>IFS<font face="宋体" >，但用来定义</font><font face="Times New Roman" >IFS</font><font face="宋体" >的</font><font face="Times New Roman" >newline</font><font face="宋体" >后面倒是用过。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >为了规避</font>bug<font face="宋体" >，还要把</font><font face="Times New Roman" >PS3</font><font face="宋体" >清空。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="127"  src="InsideBashSourceCode.files/InsideBashSourceCode3505.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >终于进正题了，先选择大洲或者大洋：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="465"  src="InsideBashSourceCode.files/InsideBashSourceCode3525.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >根据大洲或者大洋，通过</font>awk<font face="宋体" >汇总对应的国家列表：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="273"  src="InsideBashSourceCode.files/InsideBashSourceCode3552.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >二级</font>select<font face="宋体" >，选择国家：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="242"  src="InsideBashSourceCode.files/InsideBashSourceCode3570.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >再次祭出</font>awk<font face="宋体" >，通过国家汇总时区列表：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="206"  src="InsideBashSourceCode.files/InsideBashSourceCode3592.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >第三重</font>select<font face="宋体" >，选择时区：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="221"  src="InsideBashSourceCode.files/InsideBashSourceCode3610.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >计算好时区之后，出现第四重</font>select<font face="宋体" >，确认是否要修改：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="375"  src="InsideBashSourceCode.files/InsideBashSourceCode3641.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >还要判断一下当前是</font>cshell<font face="宋体" >还是其他</font><font face="Times New Roman" >shell</font><font face="宋体" >，指导用户将当前的时区改到</font><font face="Times New Roman" >shell</font><font face="宋体" >的启动脚本里面去（老大你写了这么多代码，不能自动把这句加进去么？还是要手动加</font></span><span style="mso-spacerun:'yes';font-family:Wingdings;mso-ascii-font-family:'Times New Roman';mso-fareast-font-family:宋体;mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&#76;</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >）。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="171"  src="InsideBashSourceCode.files/InsideBashSourceCode3727.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.11&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >ARITH_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:16.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="554"  height="141"  src="InsideBashSourceCode.files/InsideBashSourceCode3744.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >ARITH_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >也是需要开关打开的，不过当前默认用的</font>bash<font face="宋体" >都是支持的，这个命令的意思是算术表达式，算术表达式要用</font><font face="Times New Roman" >(())</font><font face="宋体" >包起来，要不然</font><font face="Times New Roman" >bash</font><font face="宋体" >会不知道你想当做算术表达式使用，如果执行&#8220;</font><font face="Times New Roman" >echo&nbsp;1+1</font><font face="宋体" >&#8221;会怎么样？</font><font face="Times New Roman" >bash</font><font face="宋体" >认为它是一个文本，直接将文本本身显示出来了</font></span><span style="mso-spacerun:'yes';font-family:Wingdings;mso-ascii-font-family:'Times New Roman';mso-fareast-font-family:宋体;mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&#74;</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="153"  height="29"  src="InsideBashSourceCode.files/InsideBashSourceCode3882.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >加上</font>(())<font face="宋体" >之后</font><font face="Times New Roman" >echo</font><font face="宋体" >还是失败的：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="335"  height="30"  src="InsideBashSourceCode.files/InsideBashSourceCode3903.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >再加一个</font>$<font face="宋体" >之后终于正常了：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="188"  height="31"  src="InsideBashSourceCode.files/InsideBashSourceCode3919.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >实际操作的时候，发现</font>[]<font face="宋体" >包起来的算术表达式也能用，但不加</font><font face="Times New Roman" >$</font><font face="宋体" >的时候不会报错，加了会触发求值：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="188"  height="53"  src="InsideBashSourceCode.files/InsideBashSourceCode3967.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >通过查看代码，发现，只有</font>(())<font face="宋体" >是算术表达式：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="324"  src="InsideBashSourceCode.files/InsideBashSourceCode3993.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >而</font>[]<font face="宋体" >只是为了兼容</font><font face="Times New Roman" >posix.2d9</font><font face="宋体" >的一种算术替换规则，也就是说</font><font face="Times New Roman" >$[1+1]</font><font face="宋体" >是直接替换成了</font><font face="Times New Roman" >2</font><font face="宋体" >，而</font><font face="Times New Roman" >(())</font><font face="宋体" >还需要走到算术表达式求值过程（是不是有点饶</font></span><span style="mso-spacerun:'yes';font-family:Wingdings;mso-ascii-font-family:'Times New Roman';mso-fareast-font-family:宋体;mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&#74;</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >）。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="194"  src="InsideBashSourceCode.files/InsideBashSourceCode4072.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.12&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >COND_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:16.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="329"  height="118"  src="InsideBashSourceCode.files/InsideBashSourceCode4088.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >COND_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >由六个属性组成，通用的</font>flags<font face="宋体" >和</font><font face="Times New Roman" >line</font><font face="宋体" >。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >T</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >ype<font face="宋体" >有</font><font face="Times New Roman" >6</font><font face="宋体" >种，分别是与、或、一元、二元、最小单元、表达式。这样分类起始让人有点疑惑，其实所有表达式只有一元、二元、三元等等参数个数的区分，</font><font face="Times New Roman" >bash</font><font face="宋体" >源代码为了</font><font face="Times New Roman" >yacc</font><font face="宋体" >解析方便，把其中的与表达式、或表达式、不带任何表达式的变量或者常量和其他表达式区分开来识别。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="115"  src="InsideBashSourceCode.files/InsideBashSourceCode4250.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >条件命令使用的一元表达式有</font>26<font face="宋体" >个，区分大小写（真的很多，居然只用了一半，没有把</font><font face="Times New Roman" >26*2=52</font><font face="宋体" >个字母全部用光，设计这个的老大还真是拼啊），下面简单过一下。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >a/e</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >判断文件是否存在；</font>r/w/x<font face="宋体" >判断文件是否可读或者可写或者可执行；</font><font face="Times New Roman" >o</font><font face="宋体" >表示当前用户是否拥有该文件；</font><font face="Times New Roman" >G</font><font face="宋体" >表示当前用户的组是否拥有该文件；</font><font face="Times New Roman" >N</font><font face="宋体" >表示文件存在而且有新内容（从你上次读，文件被修改过）；</font><font face="Times New Roman" >f</font><font face="宋体" >表示常规文件（设备文件返回</font><font face="Times New Roman" >false</font><font face="宋体" >）。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="394"  src="InsideBashSourceCode.files/InsideBashSourceCode4446.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >d<font face="宋体" >表示目录，</font><font face="Times New Roman" >s</font><font face="宋体" >表示文件大小大于</font><font face="Times New Roman" >0</font><font face="宋体" >，</font><font face="Times New Roman" >S</font><font face="宋体" >表示</font><font face="Times New Roman" >socket</font><font face="宋体" >，</font><font face="Times New Roman" >c</font><font face="宋体" >表示是字符设备，</font><font face="Times New Roman" >b</font><font face="宋体" >表示块设备，</font><font face="Times New Roman" >p</font><font face="宋体" >表示有名管道，</font><font face="Times New Roman" >L/h</font><font face="宋体" >表示符号链接：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="398"  src="InsideBashSourceCode.files/InsideBashSourceCode4510.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >u</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >表示文件被设置了</font>uid<font face="宋体" >，</font><font face="Times New Roman" >g</font><font face="宋体" >表示设置了组</font><font face="Times New Roman" >id</font><font face="宋体" >，</font><font face="Times New Roman" >k</font><font face="宋体" >表示</font><font face="Times New Roman" >sticky</font><font face="宋体" >文件（对目录表示任何人都可以在该目录创建文件，但只能删除自己创建的文件，对可执行程序表示程序执行结束之后还会在内存待一阵子，方便下次再次执行的时候，不用从硬盘读到内存里面），</font><font face="Times New Roman" >t</font><font face="宋体" >表示终端。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >n<font face="宋体" >表示脚本执行时存在至少一个参数，</font><font face="Times New Roman" >z</font><font face="宋体" >表示没有带任何参数，</font><font face="Times New Roman" >o</font><font face="宋体" >表示</font><font face="Times New Roman" >arg</font><font face="宋体" >选项设置了，</font><font face="Times New Roman" >v</font><font face="宋体" >表示变量存在。最后还有一个</font><font face="Times New Roman" >R</font><font face="宋体" >，表示是否在命名表里面有索引。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="384"  src="InsideBashSourceCode.files/InsideBashSourceCode4709.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >二元表达式比一元表达式少了不少，总共</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >=<font face="宋体" >，</font><font face="Times New Roman" >&#62;=</font><font face="宋体" >，</font><font face="Times New Roman" >&#60;=</font><font face="宋体" >，</font><font face="Times New Roman" >&#62;</font><font face="宋体" >，</font><font face="Times New Roman" >&#60;</font><font face="宋体" >，</font><font face="Times New Roman" >!=</font><font face="宋体" >，这六个望文生义就知道什么意思了。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >另外四个其他语言也经常会见到：</font>-nt<font face="宋体" >（</font><font face="Times New Roman" >newer&nbsp;than</font><font face="宋体" >，表示文件修改时间更新），</font><font face="Times New Roman" >-ot</font><font face="宋体" >（</font><font face="Times New Roman" >older&nbsp;than</font><font face="宋体" >，表示文件修改时间更老），</font><font face="Times New Roman" >-lt</font><font face="宋体" >（</font><font face="Times New Roman" >less&nbsp;than</font><font face="宋体" >，更小），</font><font face="Times New Roman" >-gt</font><font face="宋体" >（</font><font face="Times New Roman" >greater&nbsp;than</font><font face="宋体" >，更大）。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="293"  src="InsideBashSourceCode.files/InsideBashSourceCode4871.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >还有五个：</font>-ef<font face="宋体" >（</font><font face="Times New Roman" >equal&nbsp;file</font><font face="宋体" >，同一文件，不只是文件内容完全一样，而且需要文件指向的</font><font face="Times New Roman" >inode</font><font face="宋体" >节点也完全一样），</font><font face="Times New Roman" >-eq</font><font face="宋体" >（</font><font face="Times New Roman" >equal</font><font face="宋体" >，算术相等），</font><font face="Times New Roman" >-ne</font><font face="宋体" >（</font><font face="Times New Roman" >not&nbsp;equal</font><font face="宋体" >，算术不相等），</font><font face="Times New Roman" >-ge</font><font face="宋体" >（</font><font face="Times New Roman" >greater&nbsp;or&nbsp;equal</font><font face="宋体" >，算术大于等于），</font><font face="Times New Roman" >-le</font><font face="宋体" >（算术小于等于）。上面的算术计算，对字符串也试用。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="226"  src="InsideBashSourceCode.files/InsideBashSourceCode5028.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.13&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >ARITH_FOR_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="477"  height="165"  src="InsideBashSourceCode.files/InsideBashSourceCode5050.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >ARITH_FOR_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >有点像</font>C<font face="宋体" >语言里面的</font><font face="Times New Roman" >for</font><font face="宋体" >循环，几个属性中有初始化，测试边界命令，步进命令和实际的执行体。除了算术运算要求的两层小括号和</font><font face="Times New Roman" >do</font><font face="宋体" >，</font><font face="Times New Roman" >done</font><font face="宋体" >关键字，完整代码和</font><font face="Times New Roman" >C</font><font face="宋体" >语言里面的</font><font face="Times New Roman" >for</font><font face="宋体" >是不是没啥明显差别？</font></span><span style="mso-spacerun:'yes';font-family:Wingdings;mso-ascii-font-family:'Times New Roman';mso-fareast-font-family:宋体;mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&#74;</span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="197"  height="61"  src="InsideBashSourceCode.files/InsideBashSourceCode5161.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.14&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >SUBSHELL_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:16.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="311"  height="71"  src="InsideBashSourceCode.files/InsideBashSourceCode5181.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >SUBSHELL_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >的结构体定义比较简单，就是一个命令属性，看来关键的复杂度还是在写</font>shell<font face="宋体" >脚本本身上</font></span><span style="mso-spacerun:'yes';font-family:Wingdings;mso-ascii-font-family:'Times New Roman';mso-fareast-font-family:宋体;mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&#74;</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，不过对</font>bash<font face="宋体" >本身而言，就是把脚本文件读进来，后面一行一行执行的时候，和其他普通命令没有差别。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><h2><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >3.15&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:1.0000pt;" >COPROC_COM</span></b><b><span style="mso-spacerun:'yes';font-family:Cambria;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:16.0000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></b></h2><p class=MsoNormal ><img width="290"  height="86"  src="InsideBashSourceCode.files/InsideBashSourceCode5303.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >COPROC_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >的全称是</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >coprocess</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，翻译成中文应该是协程的意思，不过</font>shell<font face="宋体" >里面的协程没有像高级语言那么复杂，对</font><font face="Times New Roman" >bash</font><font face="宋体" >而言，执行结果和执行命令后面加一个</font><font face="Times New Roman" >&</font><font face="宋体" >类似，不过可以制定协程的名字。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h1><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" >4&nbsp;bash<font face="宋体" >源代码的目录结构</font></span></b><b><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" ><o:p></o:p></span></b></h1><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >现在才说源代码的目录结构是不是晚了点</font></span><span style="mso-spacerun:'yes';font-family:Wingdings;mso-ascii-font-family:'Times New Roman';mso-fareast-font-family:宋体;mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&#74;</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >前面分析数据结构的时候，基本上把每个命令的执行过程也简单过了一下，这样大家读代码的时候先有一个概貌，不至于一叶障目不见泰山。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >用</font>tree<font face="宋体" >命令打印出来的目录结构如下，其中</font><font face="Times New Roman" >builtins</font><font face="宋体" >目录里面是大多数内置命令（例如</font><font face="Times New Roman" >cd</font><font face="宋体" >，</font><font face="Times New Roman" >pwd</font><font face="宋体" >等）的实现，但没有看到</font><font face="Times New Roman" >ls</font><font face="宋体" >命令，难道部分复杂命令还另外建了</font><font face="Times New Roman" >git</font><font face="宋体" >库来实现？</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >C</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >ross-build<font face="宋体" >是交叉编译的设置。</font><font face="Times New Roman" >CWRU</font><font face="宋体" >是修改记录，很多人在修改记录里面还留了自己的邮箱，有兴趣的读者是否可以和他们聊聊</font></span><span style="mso-spacerun:'yes';font-family:Wingdings;mso-ascii-font-family:'Times New Roman';mso-fareast-font-family:宋体;mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&#74;</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >D</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >oc<font face="宋体" >是文档目录，包括</font><font face="Times New Roman" >html</font><font face="宋体" >格式的和</font><font face="Times New Roman" >pdf</font><font face="宋体" >格式的文档。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >E</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >xamples<font face="宋体" >目录是各种脚本的例子，不知道怎么写复杂</font><font face="Times New Roman" >bash</font><font face="宋体" >的读者有福了。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >I</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >nclude<font face="宋体" >目录里面是一些实现</font><font face="Times New Roman" >bash</font><font face="宋体" >过程中经查会用到的一些结构体或者宏的定义，一般都是写和</font><font face="Times New Roman" >bash</font><font face="宋体" >不直接联系的，直接要用到的定义都在最顶级目录下面。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >L</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >ib<font face="宋体" >是实现</font><font face="Times New Roman" >bash</font><font face="宋体" >种要用到的各种公共库，这些库的实现本身和</font><font face="Times New Roman" >bash</font><font face="宋体" >的解析没有直接关系，统一放在</font><font face="Times New Roman" >lib</font><font face="宋体" >目录。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >M4<font face="宋体" >是</font><font face="Times New Roman" >GUN</font><font face="宋体" >的一种编程语言，类似宏，</font><font face="Times New Roman" >m4</font><font face="宋体" >目录下面是用</font><font face="Times New Roman" >m4</font><font face="宋体" >语言写的</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >timespec</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >结构体的定义相关头文件校验和时间统计相关的头文件校验宏。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="207"  height="483"  src="InsideBashSourceCode.files/InsideBashSourceCode5927.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >P</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >o<font face="宋体" >又是</font><font face="Times New Roman" >GNU</font><font face="宋体" >的一种编程语言，字面意思是可扩展组件，</font><font face="Times New Roman" >bash</font><font face="宋体" >主要用它来实现多语种的扩展，每个语种都有自己的一个</font><font face="Times New Roman" >po</font><font face="宋体" >文件，分别负责将代码里面的打印字符串转换成对应的语言。例如</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >zh_CN.po</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >里面定义了中文的各种字符串：</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="279"  src="InsideBashSourceCode.files/InsideBashSourceCode6038.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >S</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >upport<font face="宋体" >目录负责</font><font face="Times New Roman" >bash</font><font face="宋体" >的手册</font><font face="Times New Roman" >html</font><font face="宋体" >页面的生成。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >T</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >ests<font face="宋体" >是很多自测用例。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >最重要的代码都放在最突出的位置，顶级目录下面有</font>44<font face="宋体" >个</font><font face="Times New Roman" >c</font><font face="宋体" >文件，其中最重要的有四个：</font><font face="Times New Roman" >shell.c</font><font face="宋体" >，脚本的解析；</font><font face="Times New Roman" >make_cmd.c</font><font face="宋体" >，命令生成；</font><font face="Times New Roman" >execute_cmd.c</font><font face="宋体" >，命令执行；</font><font face="Times New Roman" >copy_cmd.c</font><font face="宋体" >命令拷贝。前面对语法的具体用法代码多数都来自</font><font face="Times New Roman" >execute_cmd.c</font><font face="宋体" >文件。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="48"  src="InsideBashSourceCode.files/InsideBashSourceCode6221.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >redir.c<font face="宋体" >主要是各种重定向的定义和执行，前面讲到</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >SIMPLE_COM</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >的时候，曾经详细讲解过。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >subst.c<font face="宋体" >主要是对</font><font face="Times New Roman" >[]</font><font face="宋体" >表达式的值替换。值得一提的是，这里对</font><font face="Times New Roman" >$</font><font face="宋体" >开头的变量做了完整的说明。首先</font><font face="Times New Roman" >$0</font><font face="宋体" >到</font><font face="Times New Roman" >$9</font><font face="宋体" >分别对应脚本文件名，第一个入参，</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&#8230;</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，第九个入参。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="537"  height="295"  src="InsideBashSourceCode.files/InsideBashSourceCode6349.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >$$<font face="宋体" >执行</font><font face="Times New Roman" >shell</font><font face="宋体" >的</font><font face="Times New Roman" >pid</font><font face="宋体" >；</font><font face="Times New Roman" >$#</font><font face="宋体" >执行脚本时传入的参数总数；</font><font face="Times New Roman" >$?</font><font face="宋体" >上一次同步命令的执行结果，同步命令的意思是这个命令不执行完，就无法继续下面的执行，如果命令执行的过程中加了</font><font face="Times New Roman" >&</font><font face="宋体" >，那</font><font face="Times New Roman" >$?</font><font face="宋体" >无法得到其执行结果；</font><font face="Times New Roman" >$-</font><font face="宋体" >脚本执行时的</font><font face="Times New Roman" >flags</font><font face="宋体" >；</font><font face="Times New Roman" >$!</font><font face="宋体" >，和</font><font face="Times New Roman" >$?</font><font face="宋体" >相对，</font><font face="Times New Roman" >$!</font><font face="宋体" >指的是上一个异步命令执行的结果。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="354"  src="InsideBashSourceCode.files/InsideBashSourceCode6492.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >$*<font face="宋体" >和</font><font face="Times New Roman" >$@</font><font face="宋体" >都是打印出剩余所有参数，按代码的说法，</font><font face="Times New Roman" >$*</font><font face="宋体" >和</font><font face="Times New Roman" >$@</font><font face="宋体" >的差别就是是否将带引号的参数去掉引号，实测结果打印出来的结果似乎是一样的。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="46"  src="InsideBashSourceCode.files/InsideBashSourceCode6561.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="95"  src="InsideBashSourceCode.files/InsideBashSourceCode6563.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >实测效果：</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="350"  height="366"  src="InsideBashSourceCode.files/InsideBashSourceCode6571.png" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h1><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" >5&nbsp;</span></b><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" >bash<font face="宋体" >脚本的执行过程分析</font></span></b><b><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" ><o:p></o:p></span></b></h1><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >一个环境上多个</font>sh<font face="宋体" >的</font><font face="Times New Roman" >cpu</font><font face="宋体" >占用达到</font><font face="Times New Roman" >99%</font><font face="宋体" >，但实际通过</font><font face="Times New Roman" >ps</font><font face="宋体" >看，这个</font><font face="Times New Roman" >sh</font><font face="宋体" >并没有带任何参数，如果想要知道这个</font><font face="Times New Roman" >sh</font><font face="宋体" >在干什么活，为何会一直冲高，还是</font><font face="Times New Roman" >gdb</font><font face="宋体" >调试一下比较靠谱（还有一种可选的方法是不断的敲&nbsp;</font><font face="Times New Roman" >cat&nbsp;/proc/*/stack&nbsp;</font><font face="宋体" >来反复查看堆栈，多敲敲之后总能抓到几次上下文，其中</font><font face="Times New Roman" >*</font><font face="宋体" >换成对应进程的</font><font face="Times New Roman" >pid</font><font face="宋体" >）。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >通过下面的调试，可以看到当前执行是一个简单命令</font>(cm_simple)<font face="宋体" >，通过</font></span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(255,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;" >p&nbsp;*command-<font face="宋体" >＞</font><font face="Arial" >value-</font><font face="宋体" >＞</font><font face="Arial" >Simple-</font><font face="宋体" >＞</font><font face="Arial" >words-</font><font face="宋体" >＞</font><font face="Arial" >word</font></span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;" >&#160;</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >看到当前执行的简单命令在字符串是</font>true<font face="宋体" >。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >Breakpoint&nbsp;1,&nbsp;execute_command&nbsp;(command=0x10946f0)&nbsp;at&nbsp;execute_cmd.c:386</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >386&nbsp;&#160;&nbsp;&#160;&nbsp;&#160;&nbsp;result&nbsp;=&nbsp;execute_command_internal&nbsp;(command,&nbsp;0,&nbsp;NO_PIPE,&nbsp;NO_PIPE,&nbsp;bitmap);</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >(gdb)&nbsp;p&nbsp;*command</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >$9&nbsp;=&nbsp;{</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(255,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >type&nbsp;=&nbsp;cm_simple</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >,&nbsp;flags&nbsp;=&nbsp;8,&nbsp;line&nbsp;=&nbsp;0,&nbsp;redirects&nbsp;=&nbsp;0x0,&nbsp;value&nbsp;=&nbsp;{For&nbsp;=&nbsp;0x1094760,&nbsp;Case&nbsp;=&nbsp;0x1094760,&nbsp;While&nbsp;=&nbsp;0x1094760,&#160;</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >&#160;&nbsp;&#160;&nbsp;If&nbsp;=&nbsp;0x1094760,&nbsp;Connection&nbsp;=&nbsp;0x1094760,&nbsp;Simple&nbsp;=&nbsp;0x1094760,&nbsp;Function_def&nbsp;=&nbsp;0x1094760,&nbsp;Group&nbsp;=&nbsp;0x1094760,&nbsp;Select&nbsp;=&nbsp;0x1094760,&#160;</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >&#160;&nbsp;&#160;&nbsp;Arith&nbsp;=&nbsp;0x1094760,&nbsp;Cond&nbsp;=&nbsp;0x1094760,&nbsp;ArithFor&nbsp;=&nbsp;0x1094760,&nbsp;Subshell&nbsp;=&nbsp;0x1094760,&nbsp;Coproc&nbsp;=&nbsp;0x1094760}}</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >(gdb)&nbsp;p&nbsp;*command-<font face="宋体" >＞</font><font face="Arial" >value-</font><font face="宋体" >＞</font><font face="Arial" >Simple&#160;</font></span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >$10&nbsp;=&nbsp;{flags&nbsp;=&nbsp;8,&nbsp;line&nbsp;=&nbsp;3,&nbsp;words&nbsp;=&nbsp;0x1094740,&nbsp;redirects&nbsp;=&nbsp;0x0}</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >(gdb)&nbsp;</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(255,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >p&nbsp;*command-<font face="宋体" >＞</font><font face="Arial" >value-</font><font face="宋体" >＞</font><font face="Arial" >Simple-</font><font face="宋体" >＞</font><font face="Arial" >words-</font><font face="宋体" >＞</font><font face="Arial" >word</font></span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >&#160;</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >$11&nbsp;=&nbsp;{word&nbsp;=&nbsp;0x10946d0&nbsp;"</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(255,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >true</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >",&nbsp;flags&nbsp;=&nbsp;0}</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >(gdb)&nbsp;c</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >Continuing.</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><font face="宋体" >重新运行，可以看到又跑到了一个简单命令，其命令是</font></span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(255,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >"i=i+1"</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><font face="宋体" >（汗）。</font></span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >Breakpoint&nbsp;1,&nbsp;execute_command&nbsp;(command=0x10947b0)&nbsp;at&nbsp;execute_cmd.c:386</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >386&nbsp;&#160;&nbsp;&#160;&nbsp;&#160;&nbsp;result&nbsp;=&nbsp;execute_command_internal&nbsp;(command,&nbsp;0,&nbsp;NO_PIPE,&nbsp;NO_PIPE,&nbsp;bitmap);</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >(gdb)&nbsp;p&nbsp;*command</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >$12&nbsp;=&nbsp;{type&nbsp;=&nbsp;</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(255,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >cm_simple</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >,&nbsp;flags&nbsp;=&nbsp;0,&nbsp;line&nbsp;=&nbsp;0,&nbsp;redirects&nbsp;=&nbsp;0x0,&nbsp;value&nbsp;=&nbsp;{For&nbsp;=&nbsp;0x1094ad0,&nbsp;Case&nbsp;=&nbsp;0x1094ad0,&nbsp;While&nbsp;=&nbsp;0x1094ad0,&#160;</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >&#160;&nbsp;&#160;&nbsp;If&nbsp;=&nbsp;0x1094ad0,&nbsp;Connection&nbsp;=&nbsp;0x1094ad0,&nbsp;Simple&nbsp;=&nbsp;0x1094ad0,&nbsp;Function_def&nbsp;=&nbsp;0x1094ad0,&nbsp;Group&nbsp;=&nbsp;0x1094ad0,&nbsp;Select&nbsp;=&nbsp;0x1094ad0,&#160;</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >&#160;&nbsp;&#160;&nbsp;Arith&nbsp;=&nbsp;0x1094ad0,&nbsp;Cond&nbsp;=&nbsp;0x1094ad0,&nbsp;ArithFor&nbsp;=&nbsp;0x1094ad0,&nbsp;Subshell&nbsp;=&nbsp;0x1094ad0,&nbsp;Coproc&nbsp;=&nbsp;0x1094ad0}}</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >(gdb)</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(255,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >&nbsp;p&nbsp;*command-<font face="宋体" >＞</font><font face="Arial" >value-</font><font face="宋体" >＞</font><font face="Arial" >Simple-</font><font face="宋体" >＞</font><font face="Arial" >words-</font><font face="宋体" >＞</font><font face="Arial" >word&#160;</font></span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >$13&nbsp;=&nbsp;{word&nbsp;=&nbsp;0x1094ab0&nbsp;</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(255,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >"i=i+1"</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >,&nbsp;flags&nbsp;=&nbsp;20}</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >(gdb)&nbsp;c</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >Continuing.</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >通过</font>shell<font face="宋体" >的进程号，查询进程的上下文，发现是从另外一个虚机链接过来的</font><font face="Times New Roman" >ssh</font><font face="宋体" >，咨询环境负责人，该虚机是跑测试用例的，之前跑的测试用例不知道为何没有正常停止，测试用例确实就是简单的一行命令：</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><img width="241"  height="26"  src="InsideBashSourceCode.files/InsideBashSourceCode8362.png" ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >cat&nbsp;/proc/27538/environ&#160;</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt;margin-bottom:0.0000pt;line-height:15.0000pt;background:rgb(255,255,255);" ><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" >XDG_SESSION_ID=24620SHELL=/bin/bashSSH_CLIENT=192.168.9.13&nbsp;45494&nbsp;22USER=rootPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/binMAIL=/var/mail/rootPWD=/rootHOME=/rootSHLVL=2LOGNAME=rootSSH_CONNECTION=192.168.9.13&nbsp;45494&nbsp;192.168.9.196&nbsp;22XDG_RUNTIME_DIR=/run/user/0_=/bin/sh-bash-4.2#&#160;</span><span style="mso-spacerun:'yes';font-family:Arial;mso-fareast-font-family:宋体;color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:0.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><h1><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" >6&nbsp;<font face="宋体" >结束语</font></span></b><b><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:14.0000pt;mso-font-kerning:22.0000pt;" ><o:p></o:p></span></b></h1><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" >B</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" >ash<font face="宋体" >的源码解析到这里就结束了，更详细的内容，需要各位读者在实际使用时一一对应</font><font face="Times New Roman" >bash</font><font face="宋体" >的源代码来得到更详细的解读，源码都来自于</font><font face="Times New Roman" >GNU</font><font face="宋体" >的社区：</font></span><span><a href="https://git.savannah.gnu.org/git/bash.git" ><u><span class="18"  style="mso-spacerun:'yes';font-family:'Times New Roman';color:rgb(0,0,255);text-decoration:underline;text-underline:single;" >https://git.savannah.gnu.org/git/bash.git</span></u></a></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><font face="宋体" >，欢迎感兴趣的同事一起讨论分析。</font></span><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes';font-family:'Times New Roman';mso-fareast-font-family:宋体;font-size:10.5000pt;mso-font-kerning:1.0000pt;" ><o:p>&nbsp;</o:p></span></p></div><!--EndFragment--></body></html>